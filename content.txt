<p>One of the most important things an aspiring web developer can learn how to do is to implement forms. Not only do they facilitate user interaction with website owners, but they have a plethora of other uses. Forms are simply a mechanism for the end user to submit data to the form owner’s server. This data can be anything from email messages, forum posts, blog posts, credit card information, pictures, and so on. And while setting up forms to facilitate these interactions is relatively easy (generally speaking), a lot of newcomers to development don’t know that there’s anything else beyond setting up the transmission and receiving points of the form.</p>
<h3>Sanitization vs. Validation</h3>
<p>These two terms are often confused and/or misused by beginning developers. So what <em><strong>is</strong></em> the difference between <em>sanitization</em> and <em>validation</em>? Well let’s start with validation, as it happens <em><strong>before</strong></em> sanitization. Simply put, <em>validation is verifying that the data being submitted conforms to a rule or set of rules you (the developer) set for a particular input field.</em> This could mean something as simple as verifying that a form field wasn’t left blank, or it could mean using a complicated <abbr title="Regular Expression">regex</abbr> pattern to verify that an email or phone number is valid.</p>
<blockquote><p><em>“…validation is verifying that the data being submitted conforms to a rule or set of rules you (the developer) set for a particular input field.”</em></p></blockquote>
<p>Now that we have that out of the way, let’s talk about <strong>sanitization</strong>. Whereas validation requires user input to conform to a certain rule or rules put forth by the developer, sanitization only cares about making sure the data being submitted doesn’t contain code. Let’s say you have an input field in your form with no sanitization. It might look something like this:</p><!-- Crayon Syntax Highlighter v2.4.3 -->

    <div id="crayon-52e47cc2eae90133490301" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important; height: auto;">
    
      <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
      <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">PHP</span></div></div>
      <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
      <div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">&lt;form method="post" action=""&gt;
&lt;input type="text" name="blah" value="&lt;?php if(isset($_POST['blah'])) {echo $_POST['blah']; } ?&gt;"&gt;
&lt;input type="submit" value="Send"&gt;
&lt;/form&gt;</textarea></div>
      <div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
        <table class="crayon-table" style="">
          <tbody><tr class="crayon-row">
        <td class="crayon-nums " data-settings="show">
          <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-52e47cc2eae90133490301-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eae90133490301-2">2</div><div class="crayon-num" data-line="crayon-52e47cc2eae90133490301-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eae90133490301-4">4</div></div>
        </td>
            <td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-52e47cc2eae90133490301-1"><span class="crayon-o">&lt;</span><span class="crayon-e">form </span><span class="crayon-i">method</span><span class="crayon-o">=</span><span class="crayon-s">"post"</span><span class="crayon-h"> </span><span class="crayon-i">action</span><span class="crayon-o">=</span><span class="crayon-s">""</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eae90133490301-2"><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-i">type</span><span class="crayon-o">=</span><span class="crayon-s">"text"</span><span class="crayon-h"> </span><span class="crayon-i">name</span><span class="crayon-o">=</span><span class="crayon-s">"blah"</span><span class="crayon-h"> </span><span class="crayon-i">value</span><span class="crayon-o">=</span><span class="crayon-s">"<span class="crayon-ta">&lt;?php</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-k ">isset</span><span class="crayon-sy">(</span><span class="crayon-v">$_POST</span><span class="crayon-sy">[</span><span class="crayon-s">'blah'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-k ">echo</span><span class="crayon-h"> </span><span class="crayon-v">$_POST</span><span class="crayon-sy">[</span><span class="crayon-s">'blah'</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-ta">?&gt;</span>"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line" id="crayon-52e47cc2eae90133490301-3"><span class="crayon-o">&lt;</span><span class="crayon-e">input </span><span class="crayon-i">type</span><span class="crayon-o">=</span><span class="crayon-s">"submit"</span><span class="crayon-h"> </span><span class="crayon-i">value</span><span class="crayon-o">=</span><span class="crayon-s">"Send"</span><span class="crayon-o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eae90133490301-4"><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-i">form</span><span class="crayon-o">&gt;</span></div></div></td>
          </tr>
        </tbody></table>
      </div>
    </div>
<!-- [Format Time: 0.0030 seconds] -->
<p>This is an incredibly simplified example, but it gets the point across. The form method is set to POST, and the action is set to the same page the form is on. So, when the user submits the form data, the page refreshes with the global $_POST variable set and containing the data submitted in the input field “blah”. With no sanitization, whatever the user inputs in that field is then going to be echoed into the “value” attribute of the input element (which is common practice for retaining data upon submission), and this is where the problem lies. If a mischevious peruser of your site decided they were so inclined, they could easily add some code to change your page however they saw fit.</p>
<p>Using the above example form, take the following user input data, for example: <code>"&gt;&lt;/form&gt;&lt;script&gt;alert('All your website are belong to us.');&lt;/script&gt;</code>. The user has effectively closed your input element, followed by your form element, and then maliciously inserted their own <code>&lt;script&gt;</code> tag with which they can do whatever they so desire. This is why sanitization is so important. Not only do you want to validate that your user is inputing correctly formatted data pertinent to the input fields they’re filling out, but you also want to safeguard your own server from <abbr title="Cross Site Scripting">XSS</abbr> and <abbr title="Structured Query Language">SQL</abbr> injection attacks.</p>
<p>There is so much that could be discussed on the topics of validation, sanitization, internet protocols, and so on that if I were to attempt to cover them all this post would never end. So, considering I’ve filed this under the “For Beginners” category, I suppose I should start wrapping up. Below I’ll give a few examples of validation and sanitization. You’ll notice that to validate data takes a lot more effort on your part than it does to sanitize data. This is because scripting languages have sanitization functions built-in, whereas they don’t for validation.</p>
<h5>Javascript email address validation</h5>
<p>Here’s a function which thoroughly validates an email address using javascript. This is the best validation technique I’ve found thusfar for email addresses, although it will soon be obsolete. With <abbr title="Internet Protocol Version 6">IPv6</abbr> nearing widespread acceptance around the web, many email addresses will look very different upon transitioning. Without going into a ton of detail between the differences of <abbr title="Internet Protocol Version 4">IPv4</abbr> (what we currently use) and <em>IPv6</em> (what ISP’s are transitioning to), I will say this: it is still safe to use this function to validate an email address for a while. It’s still going to correctly validate about 99% of valid email addresses.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

    <div id="crayon-52e47cc2eaea3297759769" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important; height: auto;">
    
      <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Javascript Email Validation</span>
      <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
      <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
      <div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">function validEmail(email) {
    var isValid = true;
    var atIndex = email.indexOf("@");
    var ending = email.length - 1;
    if(typeof(atIndex) == "boolean" &amp;&amp; !atIndex) {
        isValid = false;
    }
    else {
        var domain = email.substr(atIndex+1);
        var local = email.substr(0, atIndex);
        var localLen = local.length;
        var domainLen = domain.length;
        if(localLen &lt; 1 || localLen &gt; 64) {
            // local part length exceeded
            isValid = false;
        }
        else if(domainLen &lt; 1 || domainLen &gt; 255) {
            // domain part length exceeded
            isValid = false;
        }
        else if(local[0] == '.' || local[localLen-1] == '.') {
            // local part starts or ends with '.'
            isValid = false;
        }
        else if(/\.\./.test(local)) {
            // local part has two consecutive dots
            isValid = false;
        }
        else if(/^[A-Za-z0-9\\-\\.]+$/.test(domain) == false) {
            // character not valid in domain part
            isValid = false;
        }
        else if(/\.\./.test(domain)) {
            // domain part has two consecutive dots
            isValid = false;
        }
        else if(/^(\\\\.|[A-Za-z0-9!#%&amp;`_=\/$'*+?^{}|~.-])+$/.test(local.replace("\\\\",""))) {
            // character not valid in local part unless
            // local part is quoted
            if(/^"(\\\\"|[^"])+"$/.test(local.replace("\\\\",""))) {
                isValid = false;
            }
        }
    }
    return isValid;
}

if(validEmail('me@somewhere.com')) {
    console.log("Yep, it's valid.");
}</textarea></div>
      <div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
        <table class="crayon-table" style="">
          <tbody><tr class="crayon-row">
        <td class="crayon-nums " data-settings="show">
          <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-2">2</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-4">4</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-6">6</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-8">8</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-10">10</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-12">12</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-14">14</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-16">16</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-18">18</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-20">20</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-22">22</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-24">24</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-26">26</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-28">28</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-30">30</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-32">32</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-34">34</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-36">36</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-38">38</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-40">40</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-42">42</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-44">44</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-46">46</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-48">48</div><div class="crayon-num" data-line="crayon-52e47cc2eaea3297759769-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaea3297759769-50">50</div></div>
        </td>
            <td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-1"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">validEmail</span><span class="crayon-sy">(</span><span class="crayon-i">email</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">isValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">atIndex</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">.</span><span class="crayon-e">indexOf</span><span class="crayon-sy">(</span><span class="crayon-s">"@"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ending</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">.</span><span class="crayon-i">length</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-r">typeof</span><span class="crayon-sy">(</span><span class="crayon-i">atIndex</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">"boolean"</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-i">atIndex</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">isValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">domain</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">.</span><span class="crayon-e">substr</span><span class="crayon-sy">(</span><span class="crayon-i">atIndex</span><span class="crayon-o">+</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">local</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">email</span><span class="crayon-sy">.</span><span class="crayon-e">substr</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">atIndex</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">localLen</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">local</span><span class="crayon-sy">.</span><span class="crayon-i">length</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">domainLen</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">domain</span><span class="crayon-sy">.</span><span class="crayon-i">length</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-i">localLen</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-i">localLen</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">64</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// local part length exceeded</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">isValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-i">domainLen</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-i">domainLen</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">255</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// domain part length exceeded</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">isValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">local</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'.'</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">local</span><span class="crayon-sy">[</span><span class="crayon-i">localLen</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'.'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// local part starts or ends with '.'</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">isValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-o">/</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-e">test</span><span class="crayon-sy">(</span><span class="crayon-i">local</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// local part has two consecutive dots</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">isValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-o">/</span><span class="crayon-o">^</span><span class="crayon-sy">[</span><span class="crayon-i">A</span><span class="crayon-o">-</span><span class="crayon-i">Za</span><span class="crayon-o">-</span><span class="crayon-i">z0</span><span class="crayon-o">-</span><span class="crayon-cn">9</span><span class="crayon-sy">\</span><span class="crayon-sy">\</span><span class="crayon-o">-</span><span class="crayon-sy">\</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-sy">]</span><span class="crayon-o">+</span><span class="crayon-sy">$</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-e">test</span><span class="crayon-sy">(</span><span class="crayon-i">domain</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// character not valid in domain part</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">isValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-o">/</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-sy">.</span><span class="crayon-e">test</span><span class="crayon-sy">(</span><span class="crayon-i">domain</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// domain part has two consecutive dots</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">isValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-o">/</span><span class="crayon-o">^</span><span class="crayon-sy">(</span><span class="crayon-sy">\</span><span class="crayon-sy">\</span><span class="crayon-sy">\</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-o">|</span><span class="crayon-sy">[</span><span class="crayon-i">A</span><span class="crayon-o">-</span><span class="crayon-i">Za</span><span class="crayon-o">-</span><span class="crayon-i">z0</span><span class="crayon-o">-</span><span class="crayon-cn">9</span><span class="crayon-o">!</span><span class="crayon-o">#</span><span class="crayon-o">%</span><span class="crayon-o">&amp;</span><span class="crayon-sy">`</span><span class="crayon-v">_</span><span class="crayon-o">=</span><span class="crayon-sy">\</span><span class="crayon-o">/</span><span class="crayon-sy">$</span><span class="crayon-s">'*+?^{}|~.-])+$/.test(local.replace("\\\\",""))) {</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-38"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// character not valid in local part unless</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-39"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// local part is quoted</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-40"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(/^"(\\\\"|[^"])+"$/.test(local.replace("\\\\",""))) {</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-41"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isValid = false;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-42"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-43"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-44"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-45"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;return isValid;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-46"><span class="crayon-s">}</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-47">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-48"><span class="crayon-s">if(validEmail('</span><span class="crayon-i">me</span><span class="crayon-sy">@</span><span class="crayon-v">somewhere</span><span class="crayon-sy">.</span><span class="crayon-i">com</span><span class="crayon-s">')) {</span></div><div class="crayon-line" id="crayon-52e47cc2eaea3297759769-49"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;console.log("Yep, it'</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-v">valid</span><span class="crayon-sy">.</span>"<span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaea3297759769-50"><span class="crayon-sy">}</span></div></div></td>
          </tr>
        </tbody></table>
      </div>
    </div>
<!-- [Format Time: 0.0134 seconds] -->
<p></p>
<h5>PHP email address validation</h5>
<p>Below is basically the same function as above, but with an additional level of verification. Since javascript is a <strong>client-side</strong> scripting language (meaning that it’s executed on your computer), you can’t actually use it to connect to remote hosts to verify DNS settings. However, PHP is a <strong>server-side</strong> scripting language, so with PHP you <em>can</em> connect to remote hosts to verify data. Therefore, we run one additional check at the end to verify that the domain is actually listed in the DNS records using <code>checkdnsrr()</code>.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

    <div id="crayon-52e47cc2eaeac713478800" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important; height: auto;">
    
      <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">PHP Email Validation</span>
      <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">PHP</span></div></div>
      <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
      <div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">function validEmail($email) {
    $isValid = true;
    $atIndex = strrpos($email, "@");
    if(is_bool($atIndex) &amp;&amp; !$atIndex) {
        $isValid = false;
    }
    else {
        $domain = substr($email, $atIndex+1);
        $local = substr($email, 0, $atIndex);
        $localLen = strlen($local);
        $domainLen = strlen($domain);
        if($localLen &lt; 1 || $localLen &gt; 64) {
            // local part length exceeded
            $isValid = false;
        }
        else if($domainLen &lt; 1 || $domainLen &gt; 255) {
            // domain part length exceeded
            $isValid = false;
        }
        else if($local[0] == '.' || $local[$localLen-1] == '.') {
            // local part starts or ends with '.'
            $isValid = false;
        }
        else if(preg_match('/\\.\\./', $local)) {
            // local part has two consecutive dots
            $isValid = false;
        }
        else if(!preg_match('/^[A-Za-z0-9\\-\\.]+$/', $domain)) {
            // character not valid in domain part
            $isValid = false;
        }
        else if(preg_match('/\\.\\./', $domain)) {
            // domain part has two consecutive dots
            $isValid = false;
        }
        else if(!preg_match('/^(\\\\.|[A-Za-z0-9!#%&amp;`_=\\/$\'*+?^{}|~.-])+$/', str_replace("\\\\","",$local))) {
            // character not valid in local part unless
            // local part is quoted
            if(!preg_match('/^"(\\\\"|[^"])+"$/', str_replace("\\\\","",$local))) {
                $isValid = false;
            }
        }
        if($isValid &amp;&amp; !(checkdnsrr($domain,"MX") || checkdnsrr($domain,"A"))) {
            // domain not found in DNS
            $isValid = false;
        }
    }
    return $isValid;
}
if(validEmail("me@somewhere.com")) {
    echo "Yep, it's valid.";
}</textarea></div>
      <div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
        <table class="crayon-table" style="">
          <tbody><tr class="crayon-row">
        <td class="crayon-nums " data-settings="show">
          <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-2">2</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-4">4</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-6">6</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-8">8</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-10">10</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-12">12</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-14">14</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-16">16</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-18">18</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-20">20</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-22">22</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-24">24</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-26">26</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-28">28</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-30">30</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-32">32</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-34">34</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-36">36</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-38">38</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-40">40</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-42">42</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-44">44</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-46">46</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-48">48</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-50">50</div><div class="crayon-num" data-line="crayon-52e47cc2eaeac713478800-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeac713478800-52">52</div></div>
        </td>
            <td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-1"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">validEmail</span><span class="crayon-sy">(</span><span class="crayon-v">$email</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$isValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$atIndex</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">strrpos</span><span class="crayon-sy">(</span><span class="crayon-v">$email</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"@"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">is_bool</span><span class="crayon-sy">(</span><span class="crayon-v">$atIndex</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">$atIndex</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$isValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$domain</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">substr</span><span class="crayon-sy">(</span><span class="crayon-v">$email</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">$atIndex</span><span class="crayon-o">+</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$local</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">substr</span><span class="crayon-sy">(</span><span class="crayon-v">$email</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">$atIndex</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$localLen</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">strlen</span><span class="crayon-sy">(</span><span class="crayon-v">$local</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$domainLen</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">strlen</span><span class="crayon-sy">(</span><span class="crayon-v">$domain</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">$localLen</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">$localLen</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">64</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// local part length exceeded</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$isValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">$domainLen</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">$domainLen</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">255</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// domain part length exceeded</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$isValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">$local</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'.'</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-v">$local</span><span class="crayon-sy">[</span><span class="crayon-v">$localLen</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'.'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// local part starts or ends with '.'</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$isValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">preg_match</span><span class="crayon-sy">(</span><span class="crayon-s">'/\\.\\./'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">$local</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// local part has two consecutive dots</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$isValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-e">preg_match</span><span class="crayon-sy">(</span><span class="crayon-s">'/^[A-Za-z0-9\\-\\.]+$/'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">$domain</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// character not valid in domain part</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$isValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">preg_match</span><span class="crayon-sy">(</span><span class="crayon-s">'/\\.\\./'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">$domain</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// domain part has two consecutive dots</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$isValid</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-e">preg_match</span><span class="crayon-sy">(</span><span class="crayon-s">'/^(\\\\.|[A-Za-z0-9!#%&amp;`_=\\/$\'*+?^{}|~.-])+$/'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">str_replace</span><span class="crayon-sy">(</span><span class="crayon-s">"\\\\","</span><span class="crayon-s">",$local))) {</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-37"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// character not valid in local part unless</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-38"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// local part is quoted</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-39"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!preg_match('/^"</span><span class="crayon-sy">(</span><span class="crayon-sy">\</span><span class="crayon-sy">\</span><span class="crayon-sy">\</span><span class="crayon-sy">\</span>"<span class="crayon-o">|</span><span class="crayon-sy">[</span><span class="crayon-o">^</span><span class="crayon-s">"])+"</span><span class="crayon-sy">$</span><span class="crayon-o">/</span><span class="crayon-s">', str_replace("\\\\","",$local))) {</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-40"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$isValid = false;</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-41"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-42"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-43"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if($isValid &amp;&amp; !(checkdnsrr($domain,"MX") || checkdnsrr($domain,"A"))) {</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-44"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// domain not found in DNS</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-45"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$isValid = false;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-46"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-47"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-48"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;return $isValid;</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-49"><span class="crayon-s">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-50"><span class="crayon-s">if(validEmail("me@somewhere.com")) {</span></div><div class="crayon-line" id="crayon-52e47cc2eaeac713478800-51"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;echo "Yep, it'</span><span class="crayon-i">s</span><span class="crayon-h"> </span><span class="crayon-i">valid</span><span class="crayon-sy">.</span>"<span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeac713478800-52"><span class="crayon-sy">}</span></div></div></td>
          </tr>
        </tbody></table>
      </div>
    </div>
<!-- [Format Time: 0.0137 seconds] -->
<p></p>
<h5>Input Sanitization</h5>
<p>In contrast to its validation counterparts, the sanitization of data is quite easy.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

    <div id="crayon-52e47cc2eaeb5713733839" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important; height: auto;">
    
      <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Simple PHP input sanitization</span>
      <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">PHP</span></div></div>
      <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
      <div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">function clean_data($data) {
    $data = trim($data);
    $data = stripslashes($data);
    $data = htmlspecialchars($data);
    return $data;
}</textarea></div>
      <div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
        <table class="crayon-table" style="">
          <tbody><tr class="crayon-row">
        <td class="crayon-nums " data-settings="show">
          <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-52e47cc2eaeb5713733839-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeb5713733839-2">2</div><div class="crayon-num" data-line="crayon-52e47cc2eaeb5713733839-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeb5713733839-4">4</div><div class="crayon-num" data-line="crayon-52e47cc2eaeb5713733839-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaeb5713733839-6">6</div></div>
        </td>
            <td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-52e47cc2eaeb5713733839-1"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">clean_data</span><span class="crayon-sy">(</span><span class="crayon-v">$data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeb5713733839-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">trim</span><span class="crayon-sy">(</span><span class="crayon-v">$data</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-52e47cc2eaeb5713733839-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">stripslashes</span><span class="crayon-sy">(</span><span class="crayon-v">$data</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeb5713733839-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">$data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">htmlspecialchars</span><span class="crayon-sy">(</span><span class="crayon-v">$data</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-52e47cc2eaeb5713733839-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">return</span><span class="crayon-h"> </span><span class="crayon-v">$data</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaeb5713733839-6"><span class="crayon-sy">}</span></div></div></td>
          </tr>
        </tbody></table>
      </div>
    </div>
<!-- [Format Time: 0.0023 seconds] -->
<p>This is an extremely simple example, and definitely not all-inclusive, but it will safeguard against the majority of nefarious attempts to compromise your site through user generated data. Implementing this is simple, just wrap the newly created function around the data to be echoed onto the page after the user submits it.</p><!-- Crayon Syntax Highlighter v2.4.3 -->

    <div id="crayon-52e47cc2eaebc940636678" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important; height: auto;">
    
      <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Sanitized form input</span>
      <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">XHTML</span></div></div>
      <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
      <div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">&lt;form method="post" action=""&gt;
&lt;input type="text" name="blah" value="&lt;?php if(isset($_POST['blah'])) {echo clean_data($_POST['blah']); } ?&gt;"&gt;
&lt;input type="submit" value="Send"&gt;
&lt;/form&gt;</textarea></div>
      <div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
        <table class="crayon-table" style="">
          <tbody><tr class="crayon-row">
        <td class="crayon-nums " data-settings="show">
          <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-52e47cc2eaebc940636678-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaebc940636678-2">2</div><div class="crayon-num" data-line="crayon-52e47cc2eaebc940636678-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-52e47cc2eaebc940636678-4">4</div></div>
        </td>
            <td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-52e47cc2eaebc940636678-1"><span class="crayon-r ">&lt;form </span><span class="crayon-e ">method</span><span class="crayon-o">=</span><span class="crayon-s ">"post"</span><span class="crayon-h"> </span><span class="crayon-e ">action</span><span class="crayon-o">=</span><span class="crayon-s ">""</span><span class="crayon-r ">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaebc940636678-2"><span class="crayon-r ">&lt;input </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s ">"text"</span><span class="crayon-h"> </span><span class="crayon-e ">name</span><span class="crayon-o">=</span><span class="crayon-s ">"blah"</span><span class="crayon-h"> </span><span class="crayon-e ">value</span><span class="crayon-o">=</span><span class="crayon-s ">"<span class="crayon-ta">&lt;?php</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-k ">isset</span><span class="crayon-sy">(</span><span class="crayon-v">$_POST</span><span class="crayon-sy">[</span><span class="crayon-s">'blah'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-k ">echo</span><span class="crayon-h"> </span><span class="crayon-e">clean_data</span><span class="crayon-sy">(</span><span class="crayon-v">$_POST</span><span class="crayon-sy">[</span><span class="crayon-s">'blah'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-ta">?&gt;</span>"</span><span class="crayon-r ">&gt;</span></div><div class="crayon-line" id="crayon-52e47cc2eaebc940636678-3"><span class="crayon-r ">&lt;input </span><span class="crayon-e ">type</span><span class="crayon-o">=</span><span class="crayon-s ">"submit"</span><span class="crayon-h"> </span><span class="crayon-e ">value</span><span class="crayon-o">=</span><span class="crayon-s ">"Send"</span><span class="crayon-r ">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-52e47cc2eaebc940636678-4"><span class="crayon-r ">&lt;/form&gt;</span></div></div></td>
          </tr>
        </tbody></table>
      </div>
    </div>
<!-- [Format Time: 0.0024 seconds] -->
<p></p>
<h3>Thanks for reading!</h3>
<p>If you’re an advanced developer, then the topics covered in this post will almost certainly be old news to you. However, if you’re new to development or if you simply weren’t aware of the need to sanitize and validate user-generated data, then I hope you found this post informative. Keep in mind, there is a <strong>LOT</strong> more to it than the simple examples I listed above. I just meant this as a starting point for newcomers to grasp the basic concept and hopefully inspire them to research more robust methods on their own.</p>